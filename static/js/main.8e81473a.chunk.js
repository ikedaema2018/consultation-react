(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{163:function(e,a,t){e.exports=t(360)},191:function(e,a,t){},193:function(e,a,t){},331:function(e,a,t){},346:function(e,a,t){},360:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(27),l=t.n(o),s=t(21),c=t(20),i=t(24),u=t(22),p=t(25),m=t(31),g=t(32),d=t.n(g),f=function(e){return{type:"INPUT_INFO",payload:{info:e}}},h=function(e){return{type:"SEND_SUCCESS",isSuccess:e,errorMessage:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u306e\u767b\u9332\u306b\u5931\u6557\u3057\u307e\u3057\u305f"}},y=function(){return{type:"RESET_STATE",payload:{}}},E=function(e,a){return{type:"REGISTER_TOGGLE_FLAG",payload:{flagName:e,bool:a}}},b=function(e){return function(a){a({type:"LOAD_SEND",isLoading:!0});var t={user:e};d.a.post("http://localhost:3000/users",t).then(function(e){a(h(!0))}).catch(function(e){var t="";e.response&&e.response.data.error&&(console.log(e.response.data.error),"RecordNotUnique"===e.response.data.error&&(t="\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u3059\u3067\u306b\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093")),a(h(!1,t=""==t?"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u306e\u767b\u9332\u306b\u5931\u6557\u3057\u307e\u3057\u305f":t))})}},v=(t(191),t(23)),O=t.n(v),w=t(37),F=t.n(w),S=t(28),C=t.n(S),_=t(150),R=t.n(_),j=t(106),L=t.n(j),T=t(100),N=t.n(T),D=t(46),A=t.n(D),k=t(149),I=t.n(k),G=(t(193),t(239)),M=function(e){function a(){return Object(s.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"register-title-block"},r.a.createElement("h1",{className:"register-title"},this.props.title)),r.a.createElement(I.a,{light:!0,variant:"middle"}))}}]),a}(n.Component),W=Object(G.withStyles)({pageTitle:{}})(M),U=t(363),x=function(e){function a(){return Object(s.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(c.a)(a,[{key:"componentWillUnmount",value:function(){this.props.resetState()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(W,{title:"Sign up"}),r.a.createElement("ul",{className:"register-ul"},r.a.createElement("li",null,r.a.createElement(C.a,null,"\u540d\u524d"),this.props.message.name.length>0?r.a.createElement("p",{className:"error-message"},this.props.message.name[0]):r.a.createElement("p",null),r.a.createElement(F.a,{type:"text",name:"name",onChange:function(a){return e.props.inputRegisterInfo(a.target)},value:this.props.data.name})),r.a.createElement("li",null,r.a.createElement(C.a,null,"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"),this.props.message.email!==[]?r.a.createElement("p",{className:"error-message"},this.props.message.email[0]):r.a.createElement("p",null),r.a.createElement(F.a,{type:"text",name:"email",onChange:function(a){return e.props.inputRegisterInfo(a.target)},value:this.props.data.email})),r.a.createElement("li",null,r.a.createElement(C.a,null,"\u30d1\u30b9\u30ef\u30fc\u30c9"),this.props.message.password!==[]?r.a.createElement("p",{className:"error-message"},this.props.message.password[0]):r.a.createElement("p",null),r.a.createElement(F.a,{type:"text",name:"password",onChange:function(a){return e.props.inputRegisterInfo(a.target)},value:this.props.data.password})),r.a.createElement("li",null,r.a.createElement(C.a,null,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u78ba\u8a8d"),this.props.message.password_confirmation!==[]?r.a.createElement("p",{className:"error-message"},this.props.message.password_confirmation[0]):r.a.createElement("p",null),r.a.createElement(F.a,{type:"text",name:"password_confirmation",onChange:function(a){return e.props.inputRegisterInfo(a.target)},value:this.props.data.password_confirmation})),r.a.createElement("li",null,r.a.createElement(R.a,null,r.a.createElement(C.a,null,"\u6027\u5225"),r.a.createElement(C.a,null,r.a.createElement(L.a,{name:"gender",onChange:function(a){return e.props.inputRegisterInfo(a.target)},checked:"\u7537"===this.props.data.gender,value:"\u7537"}),"\u7537"),r.a.createElement(C.a,null,r.a.createElement(L.a,{name:"gender",onChange:function(a){return e.props.inputRegisterInfo(a.target)},checked:"\u5973"===this.props.data.gender,value:"\u5973"}),"\u5973"))),r.a.createElement("li",null,r.a.createElement(C.a,null,"\u81ea\u5df1\u7d39\u4ecb"),this.props.message.introduction!==[]?r.a.createElement("p",{className:"error-message"},this.props.message.introduction[0]):r.a.createElement("p",null),r.a.createElement(N.a,{multiline:!0,name:"introduction",onChange:function(a){return e.props.inputRegisterInfo(a.target)},value:this.props.data.introduction})),r.a.createElement("li",null,r.a.createElement(C.a,null,"\u5e74\u9f62"),this.props.message.age!==[]?r.a.createElement("p",{className:"error-message"},this.props.message.age[0]):r.a.createElement("p",null),r.a.createElement(F.a,{type:"number",name:"age",onChange:function(a){return e.props.inputRegisterInfo(a.target)},value:this.props.data.age})),r.a.createElement("li",null,r.a.createElement(O.a,{raised:"true",color:"secondary",onClick:function(){return e.props.sendRegisterInfo(e.props.data)},disabled:!this.props.sendFlag},"\u9001\u4fe1"))),r.a.createElement(A.a,{open:this.props.registerModalFlag,onBackdropClick:function(){return e.props.registerToggleFlag("registerModalFlag",!1)}},r.a.createElement("div",{className:"register-modal-style"},r.a.createElement("div",{className:"register-modal-child"},r.a.createElement("h2",null,this.props.registerModalStatus.isLoading?"\u30ed\u30fc\u30c9\u4e2d":null,this.props.registerModalStatus.isSuccess?"\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u6210\u529f":this.props.registerModalStatus.errorMessage),r.a.createElement(U.a,{to:"/login"},"\u30ed\u30b0\u30a4\u30f3")))))}}]),a}(n.Component);var V=Object(m.b)(function(e){return{data:e.rootReducer.registerInfosReducer.data,message:e.rootReducer.registerInfosReducer.message,sendFlag:e.rootReducer.registerInfosReducer.sendFlag,registerModalFlag:e.rootReducer.registerInfosReducer.registerModalFlag,registerModalStatus:e.rootReducer.registerInfosReducer.registerModalStatus}},function(e){return{inputRegisterInfo:function(a){e(f(a))},sendRegisterInfo:function(a){e(b(a))},resetState:function(){e(y())},registerToggleFlag:function(a,t){e(E(a,t))}}})(x),P=t(33),H=t.n(P),z=t(42),Y=function(e){return{type:"INPUT_LOGIN",payload:{info:e}}},B=function(){return{type:"LOAD_LOGIN",payload:{}}},Z=function(){return{type:"LOGIN_SUCCESS",payload:{}}},q=function(e,a){return{type:"TOGGLE_FLAG",payload:{flagName:e,bool:a}}},J=function(e){return function(a){a(B());var t=function(e){return new Promise(function(a){return setTimeout(a,e)})};function n(){return(n=Object(z.a)(H.a.mark(function e(){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(1200);case 2:a(q("loadFlag",!1));case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}!function(){n.apply(this,arguments)}(),d.a.post("http://localhost:3000/admin_users",e).then(function(e){localStorage.setItem("user_name",e.data.name),localStorage.setItem("auth_token",e.data.auth_token),a(Z())}).catch(function(e){a({type:"LOGIN_ERROR",payload:{}})})}},$=t(38),K=t.n($),Q=(t(331),function(e){function a(){return Object(s.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(W,{title:"Log in"}),r.a.createElement(K.a,{container:!0,spacing:16},r.a.createElement(K.a,{item:!0,xs:8,style:{paddingLeft:50}},r.a.createElement("div",{style:{marginBottom:20}},r.a.createElement(C.a,null,"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"),this.props.message.email.length>0?r.a.createElement("p",{className:"error-message"},this.props.message.email[0]," "):"",r.a.createElement(F.a,{type:"email",name:"email",fullWidth:!0,onChange:function(a){return e.props.inputLoginForm(a.target)}})),r.a.createElement("div",{style:{marginBottom:20}},r.a.createElement(C.a,null,"\u30d1\u30b9\u30ef\u30fc\u30c9"),this.props.message.email.length>0?r.a.createElement("p",{className:"error-message"},this.props.message.password[0]):"",r.a.createElement(F.a,{type:"password",name:"password",fullWidth:!0,onChange:function(a){return e.props.inputLoginForm(a.target)}})),r.a.createElement(K.a,{container:!0,justify:"flex-end"},r.a.createElement(O.a,{raised:"true",color:"secondary",onClick:function(){return e.props.loginAction(e.props.data)}},"\u9001\u4fe1"))),r.a.createElement(A.a,{open:this.props.loadFlag,disableBackdropClick:!1,onBackdropClick:function(){return e.props.toggleFlag("loadFlag",!1)}},r.a.createElement("div",{className:"login-modal-style"},r.a.createElement("div",{className:"login-modal-child"},this.props.loginFlag?r.a.createElement("h3",null,"\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f"):r.a.createElement("h3",null,"\u30ed\u30b0\u30a4\u30f3\u306b\u5931\u6557\u3057\u307e\u3057\u305f"))))))}}]),a}(n.Component));var X=Object(m.b)(function(e){return{data:e.rootReducer.loginReducer.data,message:e.rootReducer.loginReducer.message,loadFlag:e.rootReducer.loginReducer.loadFlag,loginFlag:e.rootReducer.loginReducer.loginFlag}},function(e){return{inputLoginForm:function(a){e(Y(a))},loadLogin:function(){e(B())},loginAction:function(a){e(J(a))},loginSuccess:function(){e(Z())},toggleFlag:function(a,t){e(q(a,t))}}})(Q),ee=t(36),ae=function(e,a){return{type:"TOGGLE_DRAWER",payload:{flagName:e,bool:a}}},te=function(e){return function(a){a(Object(ee.b)(e))}},ne=function(){return localStorage.removeItem("auth_token"),localStorage.removeItem("user_name"),function(e){e({type:"LOGOUT",payload:{}});var a=function(e){return new Promise(function(a){return setTimeout(a,e)})};function t(){return(t=Object(z.a)(H.a.mark(function t(){return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(1e3);case 2:e(ae("logoutFlag",!1));case 3:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}},re=t(152),oe=t.n(re),le=t(153),se=t.n(le),ce=t(35),ie=t.n(ce),ue=t(102),pe=t.n(ue),me=t(154),ge=t.n(me),de=t(155),fe=t.n(de),he=t(101),ye=t.n(he),Ee=t(63),be=t.n(Ee),ve=t(79),Oe=t(47),we=t.n(Oe),Fe=t(48),Se=t.n(Fe),Ce=[{id:1,name:"\u30ed\u30b0\u30a4\u30f3",url:"/login"},{id:2,name:"\u65b0\u898f\u767b\u9332",url:"/register"}],_e=function(e){function a(){return Object(s.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(oe.a,{position:"fixed",color:"secondary"},r.a.createElement(se.a,null,r.a.createElement(ie.a,{variant:"title",align:"center",color:"inherit"},r.a.createElement(U.a,{to:{pathname:"/"},style:{textDecoration:"none",color:"inherit"},classes:"underlineNone"},"Heart up")),r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement(pe.a,{onClick:function(){return e.props.toggleDrawer("profileFlag",!0)}},r.a.createElement(ge.a,null)),r.a.createElement(fe.a,{anchor:"right",open:this.props.profileFlag,onClose:function(){return e.props.toggleDrawer("profileFlag",!1)}},r.a.createElement("div",null,r.a.createElement(ye.a,null,localStorage.getItem("auth_token")&&localStorage.getItem("user_name")?r.a.createElement(be.a,{button:!1,key:"unique"},r.a.createElement(ve.a,{primary:localStorage.getItem("user_name")+"\u3055\u3093",style:{paddingLeft:20,paddingRight:20}})):r.a.createElement(be.a,{button:!1}),Ce.map(function(a){return r.a.createElement(be.a,{button:!0,key:a.id.toString(),onClick:function(){return e.props.pageTransition(a.url)}},r.a.createElement(ve.a,{primary:a.name,style:{paddingLeft:20,paddingRight:20}}))}),r.a.createElement(be.a,{button:!0,onClick:function(){return e.props.logoutAction()}},r.a.createElement(ve.a,{primary:"\u30ed\u30b0\u30a2\u30a6\u30c8",style:{paddingLeft:20,paddingRight:20}}))))))),r.a.createElement("div",{style:{height:"3em"}}),r.a.createElement(we.a,{"aria-labelledby":"alert-dialog-title",open:this.props.logoutFlag,onClose:function(){return e.props.toggleDrawer("logoutFlag",!1)}},r.a.createElement(Se.a,{id:"alert-dialog-title"},"\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f\u3088\uff01")))}}]),a}(n.Component);var Re=Object(m.b)(function(e){return{profileFlag:e.rootReducer.appHeaderReducer.profileFlag,logoutFlag:e.rootReducer.appHeaderReducer.logoutFlag}},function(e){return{toggleDrawer:function(a,t){e(ae(a,t))},pageTransition:function(a){e(te(a))},logoutAction:function(){e(ne())}}})(_e),je=t(77),Le=t.n(je),Te=t(62),Ne=t.n(Te),De=t(158),Ae=t.n(De),ke=(t(346),t(78)),Ie=t.n(ke),Ge=t(59),Me=t.n(Ge),We=t(53),Ue=t.n(We),xe=t(156),Ve=t.n(xe),Pe=t(105),He=t.n(Pe),ze=function(e){var a=e.open,t=e.onClose,n=e.backColor,o=e.children;return r.a.createElement(Ve.a,{anchorOrigin:{horizontal:"center",vertical:"top"},open:a,autoHideDuration:1e3,onClose:t},r.a.createElement(He.a,{style:{backgroundColor:n},message:r.a.createElement("span",null,o)}))},Ye=t(157),Be=t.n(Ye),Ze=t(60),qe=t.n(Ze),Je=function(e){var a=e.open,t=e.onClose,n=e.title,o=e.onChange,l=e.value,s=e.onClick,c=e.message,i=e.buttonText;return r.a.createElement(we.a,{fullWidth:!0,maxWidth:"sm",open:a,onClose:t},r.a.createElement(Se.a,null,n),r.a.createElement(Be.a,null,c.length>0?r.a.createElement("p",null,c[0]):r.a.createElement("p",null),r.a.createElement(F.a,{margin:"dense",fullWidth:!0,rows:5,autoFocus:!0,multiline:!0,onChange:o,value:l}),r.a.createElement(qe.a,null,r.a.createElement(O.a,{variant:"contained",color:"secondary",onClick:s},i))))},$e=function(e){var a=e.open,t=e.onClose,n=e.title,o=e.loginAction;return r.a.createElement(we.a,{open:a,onClose:t},r.a.createElement(Se.a,null,n),r.a.createElement(qe.a,null,r.a.createElement(O.a,{variant:"contained",color:"default",onClick:t},"\u9589\u3058\u308b"),r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement(O.a,{variant:"contained",color:"secondary",onClick:o},"\u30ed\u30b0\u30a4\u30f3")))};function Ke(e){var a=Date.parse(e),t=Date.now()-a;if(t<=36e5){var n=t/6e4;return"".concat(Math.round(n),"\u5206\u524d")}if(t<=864e5){var r=t/36e5;return"".concat(Math.round(r),"\u6642\u9593\u524d")}var o=t/864e5;return"".concat(Math.round(o),"\u65e5\u524d")}var Qe={fixed:{position:"fixed",bottom:50,right:50},card:{},typography:{overflow:"hidden"},cardContent:{height:"4em",overflow:"hidden"},cardButton:{color:"#fff",backgroundColor:Ue.a[200]}},Xe=function(e){function a(e){return Object(s.a)(this,a),Object(i.a)(this,Object(u.a)(a).call(this,e))}return Object(p.a)(a,e),Object(c.a)(a,[{key:"componentWillMount",value:function(){this.props.receiveWorryData()}},{key:"componentWillUnmount",value:function(){this.props.resetState()}}]),Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(W,{title:"\u307f\u3093\u306a\u306e\u60a9\u307f\u3092\u6295\u7a3f\u3057\u3066\u306d\uff01"}),this.props.worryData.worryLoadFlag?r.a.createElement("h1",null,"\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u4e2d\u3067\u3059\u3002"):"",r.a.createElement("div",{style:{paddingLeft:"1em",paddingRight:"1em",backgroundColor:Ue.a[50],minHeight:"100vh"}},r.a.createElement(K.a,{container:!0,spacing:32},this.props.worryData.worryDataArray.map(function(a){return r.a.createElement(K.a,{key:a.id,item:!0,xs:3},r.a.createElement(Le.a,{className:e.props.classes.card},r.a.createElement(Ne.a,{className:e.props.classes.cardContent},r.a.createElement(ie.a,{className:e.props.classes.typography},a.worry.length>=100?a.worry.substr(0,80)+"...":a.worry)),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Ne.a,null,r.a.createElement(ie.a,{variant:"body1",style:{fontSize:"10px"}},a.name,"\u306e\u6295\u7a3f\u3067\u3059"),r.a.createElement(ie.a,{variant:"body2",style:{fontSize:"8px"}},Ke(a.created_at))),r.a.createElement("div",{style:{flexGrow:"1"}}),r.a.createElement(Ae.a,null,r.a.createElement(O.a,{size:"small",className:e.props.classes.cardButton,onClick:function(){return e.props.pageTransition("/worry/"+a.id)}},"\u307f\u308b")))))}))),r.a.createElement("div",null,r.a.createElement(O.a,{variant:"contained",color:"secondary",className:this.props.classes.fixed,onClick:function(){return e.props.disPlayPostView()}},"heart up")),r.a.createElement("div",null,r.a.createElement(Je,{open:this.props.formData.heartUpViewFlag,onClose:function(){return e.props.changeFlag("heartUpViewFlag",!1)},title:"\u306a\u3093\u3067\u3082\u76f8\u8ac7\u3057\u3061\u3083\u304a\u3046",onChange:function(a){return e.props.changeInputWorryTitleValue(a.target)},value:this.props.formData.inputWorryTitleValue,onClick:function(){return e.props.inputWorryValueSubmit(e.props.formData.inputWorryTitleValue)},buttonText:"\u76f8\u8ac7\u3059\u308b",message:[]}),r.a.createElement($e,{open:this.props.formData.pleaseLoginFlag,onClose:function(){return e.props.changeFlag("pleaseLoginFlag",!1)},title:"\u60a9\u307f\u3092\u6295\u7a3f\u3059\u308b\u524d\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u306d",dialogClose:function(){return e.props.changeFlag("pleaseLoginFlag",!1)},loginAction:function(){return e.props.pageTransition("login")}}),r.a.createElement(ze,{open:this.props.formData.sendWorrySuccess,onClose:function(){return e.props.changeFlag("sendWorrySuccess",!1)},backColor:Ie.a[500]},"\u6295\u7a3f\u306b\u6210\u529f\u3057\u307e\u3057\u305f"),r.a.createElement(ze,{open:this.props.formData.sendWorryFailure,onClose:function(){return e.props.changeFlag("sendWorryFailure",!1)},backColor:Me.a[500]},"\u60a9\u307f\u306e\u9001\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u96fb\u6ce2\u304c\u60aa\u3044\u304b\u3001\u30b5\u30fc\u30d0\u30fc\u306e\u8abf\u5b50\u304c\u304a\u304b\u3057\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059")))}}]),a}(n.Component),ea=Object(G.withStyles)(Qe)(Xe),aa=function(e,a){return{type:"CHANGE_FORM_FLAG",payload:{flagName:e,bool:a}}},ta=function(e){return{type:"CHANGE_INPUT_WORRY_TITLE",payload:{inputWorryTitle:e}}},na=function(){return localStorage.getItem("auth_token")?{type:"CHANGE_FORM_FLAG",payload:{flagName:"heartUpViewFlag",bool:!0}}:function(e){e(aa("pleaseLoginFlag",!0))}},ra=function(){return{type:"RESET_STATE_TOPPAGE",payload:{}}},oa=function(e){return function(a){a(Object(ee.b)(e))}},la=function(){return{type:"FINISH_WORRY_SENDING",payload:{}}},sa=function(e,a){return{type:"CHANGE_WORRY_FLAG",payload:{flagName:e,bool:a}}},ca=function(){return function(e){e(sa("worryLoadFlag",!0)),d.a.get("http://localhost:3000/worry").then(function(a){var t;e({type:"UPDATE_WORRY_DATA",payload:{data:a.data,error:t}},null)}).catch(function(e){console.log(e)})}},ia=function(e){var a={worry:{worry:e},auth_token:localStorage.getItem("auth_token")};return function(e){e(sa("waitOfSubmit",!0)),d.a.post("http://localhost:3000/worry",a).then(function(a){e({type:"SEND_WORRY_SUCCESS_START",payload:{}});var t=function(e){return new Promise(function(a){return setTimeout(a,e)})};function n(){return(n=Object(z.a)(H.a.mark(function a(){return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(1e3);case 2:e(la());case 3:case"end":return a.stop()}},a,this)}))).apply(this,arguments)}!function(){n.apply(this,arguments)}(),e(ca())}).catch(function(a){e({type:"SEND_WORRY_FAILURE",payload:{}})})}};var ua=Object(m.b)(function(e){return{formData:e.rootReducer.topPageReducer.formData,worryData:e.rootReducer.topPageReducer.worryData}},function(e){return{changeFlag:function(a,t){e(aa(a,t))},changeInputWorryTitleValue:function(a){e(ta(a))},inputWorryValueSubmit:function(a){e(ia(a))},disPlayPostView:function(){e(na())},pageTransition:function(a){e(oa(a))},receiveWorryData:function(){e(ca())},resetState:function(){e(ra())}}})(ea),pa=t(41),ma=t.n(pa),ga=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(o)))).WorryPanel=function(){return r.a.createElement("div",null,r.a.createElement(K.a,{container:!0,justify:"center"},r.a.createElement(K.a,{item:!0,lg:8,sm:12},r.a.createElement(Le.a,{className:t.props.classes.mainCard},r.a.createElement(Ne.a,{style:{minHeight:"20vh"}},r.a.createElement(ie.a,null,t.props.worryData.worry.worry)),r.a.createElement("div",{style:{display:"flex",marginLeft:10,marginRight:10}},r.a.createElement("p",{style:{fontSize:5}},t.props.worryData.worryUser.name,"\u3055\u3093\u306e\u6295\u7a3f\u3067\u3059"),r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement("p",{style:{fontSize:5}},t.props.worryData.worry.created_at))),t.props.worryData.worryComments.map(function(e){return r.a.createElement(ma.a,{key:e.id,style:{margin:5,padding:5,marginBottom:"2vh"}},r.a.createElement(ie.a,null,e.comment),function(){var a=t.findUserFromUsers(t.props.worryData.worryCommentUsers,e.user_id);return r.a.createElement("div",{style:{display:"flex",marginLeft:10,marginRight:10}},r.a.createElement("p",{style:{fontSize:4}},a?a.name:"\u4e0d\u660e\u306a\u30e6\u30fc\u30b6\u30fc","\u3055\u3093\u306e\u30b3\u30e1\u30f3\u30c8"),r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement("p",{style:{fontSize:4}},"\u6295\u7a3f\u65e5: ",e.created_at?Ke(e.created_at):"\u4e0d\u660e"))}())}))))},t.findUserFromUsers=function(e,a){for(var t=0;t<e.length;t++)return e[t].id===a?e[t]:null},t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"componentWillMount",value:function(){this.props.fetchComment(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.props.resetState()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{backgroundColor:Ue.a[50],minHeight:"100vh",paddingTop:"2%"}},this.props.flagList.loadCommentFlag?r.a.createElement("h2",null,"\u30b3\u30e1\u30f3\u30c8\u306e\u30ed\u30fc\u30c9\u4e2d\u3067\u3059"):"",this.props.worryData.worry!=={}?r.a.createElement(this.WorryPanel,{myprop:this.props.worryData}):"",r.a.createElement(O.a,{variant:"contained",color:"secondary",className:this.props.classes.fixed,onClick:function(){return e.props.commentViewDisplay()}},"comment"),r.a.createElement(Je,{open:this.props.flagList.openSendCommentViewFlag,onClose:function(){return e.props.changeFlagList("openSendCommentViewFlag",!1)},title:"\u30b3\u30e1\u30f3\u30c8\u3092\u5165\u529b\u3057\u3066\u306d",onChange:function(a){return e.props.changeCommentValue(a.target.value)},value:this.props.commentManagement.commentValue,onClick:function(){return e.props.submitComment(e.props.commentManagement.commentValue,e.props.match.params.id)},buttonText:"submit",message:this.props.commentManagement.commentMessage}),r.a.createElement($e,{open:this.props.flagList.pleaseLoginFlag,onClose:function(){return e.props.changeFlag("pleaseLoginFlag",!1)},title:"\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044",loginAction:function(){return e.props.pageTransition("/login")}}),r.a.createElement(ze,{open:this.props.flagList.commentSubmitSuccessFlag,onClose:function(){return e.props.changeFlagList("commentSubmitSuccessFlag",!1)},backColor:Ie.a[500]},"\u9001\u4fe1\u306b\u6210\u529f\u3057\u307e\u3057\u305f!"),r.a.createElement(ze,{open:this.props.flagList.connectServerFailureFlag,onClose:function(){return e.props.changeFlagList("connectServerFailureFlag",!1)},backColor:Me.a[500]},"\u30b5\u30fc\u30d0\u30fc\u3078\u306e\u9001\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u96fb\u6ce2\u304c\u60aa\u3044\u304b\u3001\u30b5\u30fc\u30d0\u30fc\u306e\u8abf\u5b50\u304c\u304a\u304b\u3057\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059"))}}]),a}(n.Component),da=Object(G.withStyles)({fixed:{position:"fixed",bottom:50,right:50},mainCard:{margin:"auto",marginBottom:"10vh"}})(ga),fa=function(e,a){return{type:"CHANGE_FLAG_LIST",payload:{flagName:e,bool:a}}},ha=function(e){return{type:"CHANGE_COMMENT_VALUE",payload:{value:e}}},ya=function(){return{type:"RESET_STATE_WORRY_PAGE",payload:{}}},Ea=function(e){return function(a){a(Object(ee.b)(e))}},ba=function(){return localStorage.getItem("auth_token")?function(e){e(fa("openSendCommentViewFlag",!0))}:function(e){e(fa("pleaseLoginFlag",!0))}},va=function(e){return function(a){a(fa("loadCommentFlag",!0)),d.a.get("http://localhost:3000/worry/"+e).then(function(e){a({type:"SUCCESS_COMMENT_FETCH",payload:{value:e.data}})}).catch(function(e){a(fa("connectServerFailureFlag",!0))})}},Oa=function(e,a){return function(t){t(fa("submitLoadFlag",!0));var n={worry_comment:{comment:e,worry_id:a},auth_token:localStorage.getItem("auth_token")};d.a.post("http://localhost:3000/worry_comment",n).then(function(e){t((e.data,{type:"SUCCESS_WORRY_COMMENT_SUBMIT",payload:{}}));var n=function(e){return new Promise(function(a){return setTimeout(a,e)})};function r(){return(r=Object(z.a)(H.a.mark(function e(){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(500);case 2:t(fa("openSendCommentViewFlag",!1)),t(va(a));case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}!function(){r.apply(this,arguments)}()}).catch(function(e){t(fa("connectServerFailureFlag",!0))})}};var wa=Object(m.b)(function(e){return{flagList:e.rootReducer.worryPageReducer.flagList,worryData:e.rootReducer.worryPageReducer.worryData,commentManagement:e.rootReducer.worryPageReducer.commentManagement}},function(e){return{changeFlagList:function(a,t){e(fa(a,t))},fetchComment:function(a){e(va(a))},changeCommentValue:function(a){e(ha(a))},submitComment:function(a,t){e(Oa(a,t))},commentViewDisplay:function(){e(ba())},pageTransition:function(a){e(Ea(a))},resetState:function(){e(ya())}}})(da),Fa=t(364),Sa=t(365),Ca=function(e){function a(){return Object(s.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Re,null),r.a.createElement(Fa.a,null,r.a.createElement(Sa.a,{path:"/login",component:X}),r.a.createElement(Sa.a,{path:"/register",component:V}),r.a.createElement(Sa.a,{path:"/worry/:id",component:wa}),r.a.createElement(Sa.a,{path:"/",component:ua})))}}]),a}(n.Component),_a=t(43),Ra=t(10),ja=t(6);d.a.defaults.headers.post["Contents-Type"]="application/x-www-form-urlencoded";var La=Object.freeze({data:{name:"",email:"",password:"",password_confirmation:"",gender:"\u7537",age:"",introduction:""},message:{email:["\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u5165\u529b\u306f\u5fc5\u9808\u3067\u3059"],name:["\u540d\u524d\u306e\u5165\u529b\u306f\u5fc5\u9808\u3067\u3059"],password:["password\u306e\u5165\u529b\u306f\u5fc5\u9808\u3067\u3059"],password_confirmation:["\uff11\u3064\u76ee\u3068\u540c\u3058password\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"],age:["\u5e74\u9f62\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"],introduction:[]},sendFlag:!1,registerModalFlag:!1,registerModalStatus:{isLoading:!1,isSuccess:!1,errorMessage:""}});function Ta(e,a){switch(a.message[e.name]=[],e.name){case"name":e.value.length>10&&a.message.name.push("\u540d\u524d\u306f10\u6587\u5b57\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),0===e.value.length&&a.message.name.push("\u540d\u524d\u306e\u5165\u529b\u306f\u5fc5\u9808\u3067\u3059");case"email":0===e.value.length&&a.message.email.push("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u5165\u529b\u306f\u5fc5\u9808\u3067\u3059"),/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/.test(e.value)||a.message.email.push("\u6b63\u3057\u3044\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");break;case"password":0===e.value.length&&a.message.password.push("\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u5165\u529b\u306f\u5fc5\u9808\u3067\u3059"),e.value.length>6&&a.message.password.push("\u30d1\u30b9\u30ef\u30fc\u30c9\u306f6\u6587\u5b57\u4ee5\u4e0a\u306b\u3057\u3066\u304f\u3060\u3055\u3044"),e.value.match(/[a-z]/)&&e.value.match(/[A-Z]/)||a.message.password.push("\u5927\u6587\u5b57\u3068\u5c0f\u6587\u5b57\u306e\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u4e00\u6587\u5b57\u4ee5\u4e0a\u3065\u3064\u542b\u3093\u3067\u304f\u3060\u3055\u3044"),e.value!==a.data.password_confirmation?a.message.password_confirmation.push("\uff11\u3064\u76ee\u3068\u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"):a.message.password_confirmation=a.message.password_confirmation.filter(function(e){return"\uff11\u3064\u76ee\u3068\u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"!==e});break;case"password_confirmation":e.value!==a.data.password&&a.message.password_confirmation.push("\uff11\u3064\u76ee\u3068\u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");break;case"gender":break;case"age":e.value||a.message.age.push("\u5e74\u9f62\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044");break;case"introduction":e.value.length>=100&&a.message.introduction.push("\u81ea\u5df1\u7d39\u4ecb\u306f100\u6587\u5b57\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");break;default:return a}return a.message}function Na(e){for(var a in e)if(0!==e[a].length)return!1;return!0}var Da={data:{email:"",password:""},message:{email:["\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"],password:["\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"]},loadFlag:!1,loginFlag:!1};function Aa(e,a){if("email"==e.payload.info.name){a.message.email=[],""==e.payload.info.value&&a.message.email.push("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/.test(e.payload.info.value)||a.message.email.push("\u6b63\u3057\u3044\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")}else"password"==e.payload.info.name&&(a.message.password=[],""==e.payload.info.value&&a.message.password.push("\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),e.payload.info.value.match(/[a-z]/)&&e.payload.info.value.match(/[A-Z]/)||a.message.password.push("\u5927\u6587\u5b57\u3068\u5c0f\u6587\u5b57\u3092\u7d44\u307f\u5408\u308f\u305b\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"));return a.message}var ka={profileFlag:!1,logoutFlag:!1},Ia={formData:{heartUpViewFlag:!1,inputWorryTitleValue:"",waitOfSubmit:!1,pleaseLoginFlag:!1,sendWorrySuccess:!1,sendWorryFailure:!1},worryData:{worryDataArray:[],worryLoadFlag:!1}},Ga={flagList:{loadCommentFlag:!1,openSendCommentViewFlag:!1,commentSubmitSuccessFlag:!1,connectServerFailureFlag:!1,submitLoadFlag:!1,pleaseLoginFlag:!1},worryData:{worry:{},worryUser:{},worryComments:[],worryCommentUsers:[]},commentManagement:{commentValue:"",commentMessage:[]}},Ma=Object(_a.c)({registerInfosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"INPUT_INFO":return Object(ja.a)({},e,{message:Object(ja.a)({},Ta(a.payload.info,e)),data:Object(ja.a)({},e.data,Object(Ra.a)({},a.payload.info.name,a.payload.info.value)),sendFlag:Na(e.message)});case"LOAD_SEND":return Object(ja.a)({},e,{registerModalFlag:!0,registerModalStatus:{isLoading:a.isLoading}});case"SEND_SUCCESS":return a.isSuccess?Object(ja.a)({},e,{registerModalFlag:!0,registerModalStatus:{isLoading:!1,isSuccess:!0}}):Object(ja.a)({},e,{registerModalFlag:!0,registerModalStatus:{isLoading:!1,isSuccess:!1,errorMessage:a.errorMessage}});case"REGISTER_TOGGLE_FLAG":return Object(ja.a)({},e,Object(Ra.a)({},a.payload.flagName,a.payload.bool));case"RESET_STATE":return Object(ja.a)({},La);default:return e}},loginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"INPUT_LOGIN":return Object(ja.a)({},e,{data:Object(ja.a)({},e.data,Object(Ra.a)({},a.payload.info.name,a.payload.info.value)),message:Object(ja.a)({},Aa(a,e))});case"LOAD_LOGIN":return Object(ja.a)({},e,{loadFlag:!0});case"LOGIN_SUCCESS":return Object(ja.a)({},e,{loadFlag:!0,loginFlag:!0});case"LOGIN_ERROR":return Object(ja.a)({},e,{loadFlag:!0,loginFlag:!1});case"TOGGLE_FLAG":return Object(ja.a)({},e,Object(Ra.a)({},a.payload.flagName,a.payload.bool));default:return e}},appHeaderReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"TOGGLE_DRAWER":return Object(ja.a)({},e,Object(Ra.a)({},a.payload.flagName,a.payload.bool));case"LOGOUT":return Object(ja.a)({},e,{logoutFlag:!0,profileFlag:!1});default:return e}},topPageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHANGE_FORM_FLAG":return Object(ja.a)({},e,{formData:Object(ja.a)({},e.formData,Object(Ra.a)({},a.payload.flagName,a.payload.bool))});case"CHANGE_INPUT_WORRY_TITLE":return Object(ja.a)({},e,{formData:Object(ja.a)({},e.formData,{inputWorryTitleValue:a.payload.inputWorryTitle.value})});case"SEND_WORRY_SUCCESS_START":return Object(ja.a)({},e,{formData:Object(ja.a)({},e.formData,{sendWorrySuccess:!0,waitOfSubmit:!1})});case"FINISH_WORRY_SENDING":return Object(ja.a)({},e,{formData:Object(ja.a)({},e.formData,{heartUpViewFlag:!1,inputWorryTitleValue:""})});case"SEND_WORRY_FAILURE":return Object(ja.a)({},e,{formData:Object(ja.a)({},e.formData,{sendWorryFailure:!0})});case"UPDATE_WORRY_DATA":return Object(ja.a)({},e,{worryData:Object(ja.a)({},e.worryData,{worryDataArray:a.payload.data,worryLoadFlag:!1})});case"CHANGE_WORRY_FLAG":return Object(ja.a)({},e,{worryData:Object(ja.a)({},e.worryData,Object(Ra.a)({},a.payload.flagName,a.payload.bool))});case"RESET_STATE_TOPPAGE":return Ia;default:return e}},worryPageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHANGE_FLAG_LIST":return Object(ja.a)({},e,{flagList:Object(ja.a)({},e.flagList,Object(Ra.a)({},a.payload.flagName,a.payload.bool))});case"SUCCESS_COMMENT_FETCH":return Object(ja.a)({},e,{flagList:Object(ja.a)({},e.flagList,{loadCommentFlag:!1}),worryData:Object(ja.a)({},e.worryData,{worry:a.payload.value.worry,worryUser:a.payload.value.worry_user,worryComments:a.payload.value.worry_comments,worryCommentUsers:a.payload.value.worry_comment_users})});case"CHANGE_COMMENT_VALUE":return Object(ja.a)({},e,{commentManagement:Object(ja.a)({},e.commentManagement,{commentValue:a.payload.value})});case"SUCCESS_WORRY_COMMENT_SUBMIT":return Object(ja.a)({},e,{commentManagement:Object(ja.a)({},e.commentManagement,{commentValue:""}),flagList:Object(ja.a)({},e.flagList,{submitLoadFlag:!1,commentSubmitSuccessFlag:!0})});case"RESET_STATE_WORRY_PAGE":return Ga;default:return e}}}),Wa=t(159),Ua=t.n(Wa),xa=t(160);var Va,Pa=t(161),Ha=t.n(Pa)()(),za=(Va=Ha,Object(_a.d)(Object(_a.c)({rootReducer:Ma,routerReducer:ee.d}),Object(_a.a)(xa.a,Object(ee.c)(Va),Ua.a)));l.a.render(r.a.createElement(m.a,{store:za},r.a.createElement(ee.a,{history:Ha},r.a.createElement(Ca,null))),document.getElementById("root"))}},[[163,2,1]]]);
//# sourceMappingURL=main.8e81473a.chunk.js.map